<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [NRRD_TYPES_TO_TYPEDARRAY][1]
-   [parse][2]
    -   [Parameters][3]
-   [Toolbox][4]
    -   [getNumberOfComponentPerVoxel][5]
        -   [Parameters][6]
    -   [getNumberOfTimeSamples][7]
        -   [Parameters][8]
    -   [getSliceXY][9]
        -   [Parameters][10]
    -   [getSliceXZ][11]
        -   [Parameters][12]
    -   [getSliceYZ][13]
        -   [Parameters][14]
    -   [getValue][15]
        -   [Parameters][16]
    -   [getIndex1D][17]
        -   [Parameters][18]
    -   [getVoxelToWorldMatrix][19]
        -   [Parameters][20]
    -   [getWorldToVoxelMatrix][21]
        -   [Parameters][22]
    -   [getVoxelPositionFromWorldPosition][23]
        -   [Parameters][24]
    -   [getWorldValue][25]
        -   [Parameters][26]

## NRRD_TYPES_TO_TYPEDARRAY

This is the mapping from the NRRD datatype as written in the NRRD header
to the JS typed array equivalent.

## parse

Parse a buffer of a NRRD file.
Throws an exception if the file is not a proper NRRD file.

### Parameters

-   `nrrdBuffer` **[ArrayBuffer][27]** the NRRD file buffer
-   `options` **[Object][28]** the option object
    -   `options.headerOnly` **[boolean][29]** Parses only the header if true, parses header and data if false (default: false)

Returns **[Object][28]** NRRD header and data such as {header: Object, data: TypedArray }

## Toolbox

The Toolbox is a set of static methods to extract some data from a parsed NRRD
using the `header` and/or the `data` as returned by `nrrdjs.parse(...)`.

The NRRD format does not make any assumption about the naming of the axis
(X, Y, Z, A, B, C, etc.) but for the sake of accessibility, the Toolbox assumes
that if there is more than 1 components per voxel (ex: RGB), they are encoded
on the fastest axis. Otherwise:

-   The axis called `X` is encoded on the fastest axis
-   The axis called `Z` is encoded on the slowest axis
-   The axis called `Y` is encoded in between
-   The time axis, if any, is even slower than `Z`

Note: the fast axis is the one where element along it are contiguous on the buffer (stride: 1)

### getNumberOfComponentPerVoxel

Get the number of components per voxel. For example, for a RGB volume,
the ncpv is 3.

#### Parameters

-   `header` **[object][28]** the header object as returned by the parser

Returns **[number][30]** 

### getNumberOfTimeSamples

Get the number of time samples for this volume. If it's not a time sequence,
then there is only a single time sample.

#### Parameters

-   `header` **[object][28]** the header object as returned by the parser

Returns **[number][30]** 

### getSliceXY

Extract a slice of the XY plane in voxel coordinates. The horizontal axis of the
2D slice is along the X axis of the volume, the vertical axis on the 2D slice is
along the Y axis of the volume, origin is at top-left.

#### Parameters

-   `data` **[TypedArray][31]** the volumetric data
-   `header` **[Object][28]** the header object corresponding to the NRRD file
-   `sliceIndex` **[Number][30]** index of the slice

Returns **[Object][28]** as {width: Number, height: Number, data: TypedArray} where the data is
of the same type as the volume buffer.

### getSliceXZ

Extract a slice of the XZ plane in voxel coordinates. The horizontal axis of the
2D slice is along the X axis of the volume, the vertical axis on the 2D slice is
along the Z axis of the volume, origin is at top-left.

#### Parameters

-   `data` **[TypedArray][31]** the volumetric data
-   `header` **[Object][28]** the header object corresponding to the NRRD file
-   `sliceIndex` **[Number][30]** index of the slice

Returns **[Object][28]** as {width: Number, height: Number, data: TypedArray} where the data is
of the same type as the volume buffer.

### getSliceYZ

Extract a slice of the YZ plane in voxel coordinates. The horizontal axis of the
2D slice is along the Y axis of the volume, the vertical axis on the 2D slice is
along the Z axis of the volume, origin is at top-left.

#### Parameters

-   `data` **[TypedArray][31]** the volumetric data
-   `header` **[Object][28]** the header object corresponding to the NRRD file
-   `sliceIndex` **[Number][30]** index of the slice

Returns **[Object][28]** as {width: Number, height: Number, data: TypedArray} where the data is
of the same type as the volume buffer.

### getValue

Get the value at the position (x, y, z) in voxel coordinates.

#### Parameters

-   `data` **[TypedArray][31]** the volumetric data
-   `header` **[Object][28]** the header object corresponding to the NRRD file
-   `x` **[Number][30]** the x position (fastest varying axis)
-   `y` **[Number][30]** the y position
-   `z` **[Number][30]** the z position (slowest varying)

Returns **[Array][32]** as [v] because of compatibility to multiple components per voxel

### getIndex1D

Get the 1D index within the buffer for the given (x, y, z) in voxel coordinates

#### Parameters

-   `header` **[Object][28]** the header object corresponding to the NRRD file
-   `x` **[Number][30]** the x position (fastest varying axis)
-   `y` **[Number][30]** the y position
-   `z` **[Number][30]** the z position (slowest varying)
-   `value` **[Number][30]** at this position in 1D buffer

### getVoxelToWorldMatrix

Get the affine matrix for converting voxel coordinates into world/subject coordinates

#### Parameters

-   `header` **[Object][28]** the header object corresponding to the NRRD file

Returns **[Float32Array][33]** the matrix as a 4x4 column major

### getWorldToVoxelMatrix

Get the affine matrix for converting world/subject coordinates into voxel coordinates

#### Parameters

-   `header` **[Object][28]** the header object corresponding to the NRRD file

Returns **[Float32Array][33]** the matrix as a 4x4 column major

### getVoxelPositionFromWorldPosition

Get the position voxel coordinates providing a position in world coordinates

#### Parameters

-   `header` **[Object][28]** the header object corresponding to the NRRD file
-   `x` **[Number][30]** the x position (fastest varying axis)
-   `y` **[Number][30]** the y position
-   `z` **[Number][30]** the z position (slowest varying)

Returns **[Array][32]** as [x, y, z]

### getWorldValue

Get the value at the given world coordinates.
Note: the voxel coordinates is rounded

#### Parameters

-   `data` **[TypedArray][31]** the volumetric data
-   `header` **[Object][28]** the header object corresponding to the NRRD file
-   `x` **[Number][30]** the x position (fastest varying axis)
-   `y` **[Number][30]** the y position
-   `z` **[Number][30]** the z position (slowest varying)

Returns **[Array][32]** as [v] because of compatibility to multiple components per voxel

[1]: #nrrd_types_to_typedarray

[2]: #parse

[3]: #parameters

[4]: #toolbox

[5]: #getnumberofcomponentpervoxel

[6]: #parameters-1

[7]: #getnumberoftimesamples

[8]: #parameters-2

[9]: #getslicexy

[10]: #parameters-3

[11]: #getslicexz

[12]: #parameters-4

[13]: #getsliceyz

[14]: #parameters-5

[15]: #getvalue

[16]: #parameters-6

[17]: #getindex1d

[18]: #parameters-7

[19]: #getvoxeltoworldmatrix

[20]: #parameters-8

[21]: #getworldtovoxelmatrix

[22]: #parameters-9

[23]: #getvoxelpositionfromworldposition

[24]: #parameters-10

[25]: #getworldvalue

[26]: #parameters-11

[27]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer

[28]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[29]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[30]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[31]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/TypedArray

[32]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[33]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Float32Array
